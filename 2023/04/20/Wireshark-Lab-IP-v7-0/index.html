<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/icon/avatar.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icon/avatar.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icon/avatar.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ysabeau:300,300italic,400,400italic,700,700italic|Liu Jian Mao Cao:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">

<link href="https://fonts.googleapis.com/css?family=Noto+Serif+SC|Roboto&display=swap" rel="stylesheet">
<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"trevoewu.github.io","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":true},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>
  <meta name="description" content="åœ¨æœ¬å®éªŒä¸­, æˆ‘ä»¬å°†ç ”ç©¶ IP åè®®,é‡ç‚¹å…³æ³¨IP datagram. æˆ‘ä»¬å°†é€šè¿‡åˆ†æåœ¨æ‰§è¡Œ traceroute ç¨‹åºå‘é€å’Œæ¥æ”¶çš„ä¸€ç³»åˆ— IP æ•°æ®æŠ¥çš„è¿‡ç¨‹æ¥å®Œæˆè¿™ä¸ªå®éªŒ,æˆ‘ä»¬å°†ç ”ç©¶IP datagram ä¸­çš„å„ä¸ªå­—æ®µ(fields)ï¼Œå¹¶è¯¦ç»†ç ”ç©¶ IP fragmentation çš„æ–¹æ³•">
<meta property="og:type" content="article">
<meta property="og:title" content="Wireshark Lab: IP v7.0">
<meta property="og:url" content="https://trevoewu.github.io/2023/04/20/Wireshark-Lab-IP-v7-0/index.html">
<meta property="og:site_name" content="æ¥¼å…°">
<meta property="og:description" content="åœ¨æœ¬å®éªŒä¸­, æˆ‘ä»¬å°†ç ”ç©¶ IP åè®®,é‡ç‚¹å…³æ³¨IP datagram. æˆ‘ä»¬å°†é€šè¿‡åˆ†æåœ¨æ‰§è¡Œ traceroute ç¨‹åºå‘é€å’Œæ¥æ”¶çš„ä¸€ç³»åˆ— IP æ•°æ®æŠ¥çš„è¿‡ç¨‹æ¥å®Œæˆè¿™ä¸ªå®éªŒ,æˆ‘ä»¬å°†ç ”ç©¶IP datagram ä¸­çš„å„ä¸ªå­—æ®µ(fields)ï¼Œå¹¶è¯¦ç»†ç ”ç©¶ IP fragmentation çš„æ–¹æ³•">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://trevoewu.github.io/2023/04/20/Wireshark-Lab-IP-v7-0/Wireshark-Lab-IP-v7-0/image-20230421113757555.png">
<meta property="og:image" content="https://trevoewu.github.io/2023/04/20/Wireshark-Lab-IP-v7-0/Wireshark-Lab-IP-v7-0/image-20230421113848009.png">
<meta property="og:image" content="https://trevoewu.github.io/2023/04/20/Wireshark-Lab-IP-v7-0/Wireshark-Lab-IP-v7-0/image-20230421113947335.png">
<meta property="og:image" content="https://trevoewu.github.io/2023/04/20/Wireshark-Lab-IP-v7-0/Wireshark-Lab-IP-v7-0/image-20230421114009587.png">
<meta property="og:image" content="https://trevoewu.github.io/2023/04/20/Wireshark-Lab-IP-v7-0/Wireshark-Lab-IP-v7-0/image-20230421114026434.png">
<meta property="og:image" content="https://trevoewu.github.io/2023/04/20/Wireshark-Lab-IP-v7-0/Wireshark-Lab-IP-v7-0/image-20230421114245968.png">
<meta property="og:image" content="https://trevoewu.github.io/2023/04/20/Wireshark-Lab-IP-v7-0/Wireshark-Lab-IP-v7-0/image-20230421114303180.png">
<meta property="og:image" content="https://trevoewu.github.io/2023/04/20/Wireshark-Lab-IP-v7-0/Wireshark-Lab-IP-v7-0/image-20230421114317964.png">
<meta property="og:image" content="https://trevoewu.github.io/2023/04/20/Wireshark-Lab-IP-v7-0/Wireshark-Lab-IP-v7-0/image-20230421114327978.png">
<meta property="og:image" content="https://trevoewu.github.io/2023/04/20/Wireshark-Lab-IP-v7-0/Wireshark-Lab-IP-v7-0/image-20230421114340203.png">
<meta property="og:image" content="https://trevoewu.github.io/2023/04/20/Wireshark-Lab-IP-v7-0/Wireshark-Lab-IP-v7-0/image-20230421114350725.png">
<meta property="og:image" content="https://trevoewu.github.io/2023/04/20/Wireshark-Lab-IP-v7-0/Wireshark-Lab-IP-v7-0/image-20230421114403647.png">
<meta property="og:image" content="https://trevoewu.github.io/2023/04/20/Wireshark-Lab-IP-v7-0/Wireshark-Lab-IP-v7-0/image-20230421114415389.png">
<meta property="og:image" content="https://trevoewu.github.io/2023/04/20/Wireshark-Lab-IP-v7-0/Wireshark-Lab-IP-v7-0/image-20230421114431692.png">
<meta property="og:image" content="https://trevoewu.github.io/2023/04/20/Wireshark-Lab-IP-v7-0/Wireshark-Lab-IP-v7-0/image-20230421114440735.png">
<meta property="og:image" content="https://trevoewu.github.io/2023/04/20/Wireshark-Lab-IP-v7-0/Wireshark-Lab-IP-v7-0/image-20230421114449611.png">
<meta property="article:published_time" content="2023-04-20T10:22:06.000Z">
<meta property="article:modified_time" content="2023-04-21T03:44:49.965Z">
<meta property="article:author" content="æ¥¼å…°">
<meta property="article:tag" content="computer network">
<meta property="article:tag" content="lab">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://trevoewu.github.io/2023/04/20/Wireshark-Lab-IP-v7-0/Wireshark-Lab-IP-v7-0/image-20230421113757555.png">

<link rel="canonical" href="https://trevoewu.github.io/2023/04/20/Wireshark-Lab-IP-v7-0/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>Wireshark Lab: IP v7.0 | æ¥¼å…°</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="alternate" href="/atom.xml" title="æ¥¼å…°" type="application/atom+xml">
<style>.darkmode--activated{--body-bg-color:#282828;--content-bg-color:#333;--card-bg-color:#555;--text-color:#ccc;--blockquote-color:#bbb;--link-color:#ccc;--link-hover-color:#eee;--brand-color:#ddd;--brand-hover-color:#ddd;--table-row-odd-bg-color:#282828;--table-row-hover-bg-color:#363636;--menu-item-bg-color:#555;--btn-default-bg:#222;--btn-default-color:#ccc;--btn-default-border-color:#555;--btn-default-hover-bg:#666;--btn-default-hover-color:#ccc;--btn-default-hover-border-color:#666;--highlight-background:#282b2e;--highlight-foreground:#a9b7c6;--highlight-gutter-background:#34393d;--highlight-gutter-foreground:#9ca9b6}.darkmode--activated img{opacity:.75}.darkmode--activated img:hover{opacity:.9}.darkmode--activated code{color:#69dbdc;background:0 0}button.darkmode-toggle{z-index:9999}.darkmode-ignore,img{display:flex!important}.beian img{display:inline-block!important}</style></head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">æ¥¼å…°</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://trevoewu.github.io/2023/04/20/Wireshark-Lab-IP-v7-0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/icon/avatar.png">
      <meta itemprop="name" content="æ¥¼å…°">
      <meta itemprop="description" content="æ¥¼å…°çš„Blog">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="æ¥¼å…°">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Wireshark Lab: IP v7.0
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2023-04-20 18:22:06" itemprop="dateCreated datePublished" datetime="2023-04-20T18:22:06+08:00">2023-04-20</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-04-21 11:44:49" itemprop="dateModified" datetime="2023-04-21T11:44:49+08:00">2023-04-21</time>
              </span>

          <br>
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">Symbols count in article: </span>
              <span>2.5k</span>
            </span>
            <span class="post-meta-item" title="Reading time">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">Reading time &asymp;</span>
              <span>4 mins.</span>
            </span>
            <div class="post-description">åœ¨æœ¬å®éªŒä¸­, æˆ‘ä»¬å°†ç ”ç©¶ IP åè®®,é‡ç‚¹å…³æ³¨IP datagram. æˆ‘ä»¬å°†é€šè¿‡åˆ†æåœ¨æ‰§è¡Œ traceroute ç¨‹åºå‘é€å’Œæ¥æ”¶çš„ä¸€ç³»åˆ— IP æ•°æ®æŠ¥çš„è¿‡ç¨‹æ¥å®Œæˆè¿™ä¸ªå®éªŒ,æˆ‘ä»¬å°†ç ”ç©¶IP datagram ä¸­çš„å„ä¸ªå­—æ®µ(fields)ï¼Œå¹¶è¯¦ç»†ç ”ç©¶ IP fragmentation çš„æ–¹æ³•</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <ul>
<li>Select the first ICMP Echo Request message sent by your computer, and expand the Internet Protocol part of the packet in the packet details window.(é€‰æ‹©æ‚¨çš„è®¡ç®—æœºå‘é€çš„ç¬¬ä¸€ä¸ª ICMP Echo Request æ¶ˆæ¯ï¼Œå¹¶åœ¨æ•°æ®åŒ…è¯¦ç»†ä¿¡æ¯çª—å£ä¸­å±•å¼€æ•°æ®åŒ…çš„ Internet åè®®éƒ¨åˆ†)<br>
ä¸çŸ¥é“ä¸ºä»€ä¹ˆ, æˆ‘çš„ç”µè„‘åªèƒ½æ”¶åˆ°Time to live exceededæŠ¥æ–‡æ®µ.</li>
</ul>
<span id="more"></span>
<p>ç»“æœæ˜¯å› ä¸ºæˆ‘åœ¨è¿‡æ»¤äº†ICMP, è€Œ<strong>tracerouteé»˜è®¤ä½¿ç”¨UDPè€Œä¸æ˜¯ICMP</strong>, æ‰€ä»¥åªèƒ½æ”¶åˆ°è·¯ç”±å™¨å‘ç»™æˆ‘çš„ICMP time to live exceeded æŠ¥æ–‡,å‘Šè¯‰æˆ‘çš„æ•°æ®åŒ…è¢«å¹²æ‰äº†.</p>
<p>tracert é»˜è®¤ä½¿ç”¨ ICMP åŒ…æ¢æµ‹ï¼Œtraceroute ä½¿ç”¨ UDP åŒ…ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ ICMP å’Œ TCP åŒ…æ¢æµ‹, å¸¦ä¸Šå‚æ•°-Tå³å¯.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-I      Use ICMP ECHO instead of UDP datagrams.  (A synonym for &quot;-P icmp&quot;).</span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">traceroute baidu.com 2000  </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ä½¿ç”¨baiduæµ‹è¯•, é»˜è®¤ä½¿ç”¨UDP, æ•°æ®æŠ¥å¤§å°ä¸º2000byte</span></span><br></pre></td></tr></table></figure>
<ul>
<li>
<p>What is the IP address of your computer?</p>
</li>
<li>
<p>åœ¨ IP header ä¸­ï¼Œä¸Šå±‚åè®®å­—æ®µçš„å€¼æ˜¯å¤šå°‘?</p>
<p>æˆ‘çš„IPåœ°å€: 10.51.172.226</p>
<p><img src="Wireshark-Lab-IP-v7-0/image-20230421113757555.png" alt="image-20230421113757555"></p>
<p>è¿™æ˜¯tracerouteå‘é€çš„ç¬¬ä¸€ä¸ªæ•°æ®æŠ¥, å¯ä»¥å¾—åˆ°ä»¥ä¸‹ä¿¡æ¯:</p>
<ul>
<li>è¯¥æ•°æ®æŠ¥æ˜¯IPæ•°æ®æŠ¥, ä¸Šå±‚åè®®ä¸ºUDP</li>
<li>æ•°æ®æŠ¥è¢«åˆ†ç‰‡äº†, More Fragmentå­—æ®µè¢«è®¾ä¸º1</li>
<li>æºIPæ˜¯10.51.172.226, è¿™æ˜¯host IP</li>
<li>ç›®æ ‡IPæ˜¯110,242,68,66, è¿™æ˜¯Baidu.comçš„IPåœ°å€, æˆ‘ç”¨ç™¾åº¦æ¥æµ‹è¯•.</li>
</ul>
</li>
<li>
<p>IP datagram çš„æœ‰æ•ˆè´Ÿè½½ä¸­æœ‰å¤šå°‘ bytes? è¯´æ˜å¦‚ä½• ç¡®å®š payload bytes çš„æ•°ã€‚</p>
</li>
</ul>
<p><img src="Wireshark-Lab-IP-v7-0/image-20230421113848009.png" alt="image-20230421113848009"></p>
<p>payload = Total Len - header Len = 1500 - 20 = 1480, æ˜¯çš„, æˆ‘ç›´æ¥å‘é€äº†2000byteçš„æŠ¥æ–‡</p>
<ul>
<li>
<p>æ­¤ IP æ•°æ®æŠ¥æ˜¯å¦å·²è¢«åˆ†æ®µ(fragmented)?è§£é‡Šæ‚¨å¦‚ä½•ç¡®å®šæ•°æ®æŠ¥æ˜¯å¦å·²è¢«åˆ†æ®µ(fragmented)</p>
<p>æ˜¯çš„, å‰æ–‡æœ‰æåˆ°, è¿™é‡Œä¸å†èµ˜è¿°.</p>
</li>
</ul>
<blockquote>
<p>æ¥ä¸‹æ¥ï¼Œé€šè¿‡å•å‡» Source åˆ—æ ‡é¢˜ï¼Œæ ¹æ® IP æºåœ°å€å¯¹è·Ÿè¸ªçš„æ•°æ®åŒ…è¿›è¡Œæ’åºï¼Œä¸€ä¸ªå°çš„å‘ä¸‹ç®­å¤´åº”å‡ºç°åœ¨ Source æ—è¾¹ï¼Œå¦‚æœç®­å¤´æŒ‡å‘ä¸Šæ–¹è¯·å†æ¬¡å•å‡»â€œSource column headerâ€ã€‚é€‰æ‹©è®¡ç®—æœºå‘é€çš„ç¬¬ä¸€ä¸ª ICMP Echo Request æ¶ˆæ¯ï¼Œç„¶åå±•å¼€â€œdetails of selected packet headerâ€çª—å£ä¸­çš„ Internet åè®®éƒ¨åˆ†ã€‚åœ¨â€œlisting of captured packetsâ€çª— å£ä¸­ï¼Œæ‚¨åº”è¯¥åœ¨ç¬¬ä¸€ä¸ª ICMP ä¸‹é¢çœ‹åˆ°æ‰€æœ‰åç»­ ICMP æ¶ˆæ¯(å¯èƒ½è¿˜æœ‰è®¡ç®—å™¨ä¸Šè¿è¡Œçš„å…¶ä»–åè®®å‘é€çš„å…¶ä»–æ•£å¸ƒæ•°æ®åŒ…)ï¼Œä½¿ç”¨å‘ä¸‹ç®­å¤´æµè§ˆè®¡ç®—å™¨å‘é€çš„ ICMP æ¶ˆæ¯ã€‚</p>
</blockquote>
<ul>
<li>
<p>åœ¨æ‚¨çš„è®¡ç®—å™¨å‘é€çš„è¿™ä¸€ç³»åˆ— ICMP æ¶ˆæ¯ä¸­ï¼ŒIP æ•°æ®æŠ¥ä¸­çš„å“ªäº›å­—æ®µæ€»æœ‰æ”¹å˜</p>
<p>ä½¿ç”¨</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">traceroute -I gaia.cs.umass.edu -80</span><br><span class="line"><span class="comment"># ç”¨ä½œè€…ç»™çš„ç½‘ç«™æµ‹è¯•, -Iè¡¨ç¤ºä½¿ç”¨ICMP</span></span><br><span class="line"><span class="comment"># The default probe datagram length is 40 bytes[traceroute manual]</span></span><br><span class="line"><span class="comment"># ä½†æ˜¯æˆ‘ä½¿ç”¨ä½œè€…æè®®ç”¨56ä½œä¸ºæ•°æ®æŠ¥(ip datagrame)å¤§å°æ—¶, æ”¶åˆ°ä»¥ä¸‹è­¦å‘Š: </span></span><br><span class="line"><span class="comment"># traceroute: packet length must be &gt; 71</span></span><br><span class="line"><span class="comment"># æ‰€ä»¥è¿™é‡Œæ•°æ®æŠ¥å¤§å°è®¾ä¸º80, å®é™…ä¸Š, æˆ‘ä½¿ç”¨ä¸å¸¦æ•°æ®æŠ¥å¤§å°å‚æ•°çš„å‘½ä»¤æ—¶, é»˜è®¤æ•°æ®æŠ¥å¤§å°ä¸º1380</span></span><br></pre></td></tr></table></figure>
<p>å†æ¬¡æŠ“åŒ…, ç”±äºtracerouteå®é™…ä¸Šä¼šå‘é€ä¸‰ä¸ªICMPçš„æ•°æ®æŠ¥, æ‰€ä»¥ä¸‰ä¸ªä¸ºä¸€ç»„.  æ‰€ä»¥å¯å‘ç°æ¯ä¸€ç»„çš„IDå€¼å·®3, å½“ç„¶æ˜¯å› ä¸ºä¸€ç»„å‘äº†ä¸‰ä¸ªICMPæ•°æ®æŠ¥å•Šâ€¦</p>
</li>
</ul>
<p>ç¬¬ä¸€ä¸ª:</p>
<p><img src="Wireshark-Lab-IP-v7-0/image-20230421113947335.png" alt="image-20230421113947335"></p>
<p>ç¬¬äºŒä¸ª:</p>
<p><img src="Wireshark-Lab-IP-v7-0/image-20230421114009587.png" alt="image-20230421114009587"></p>
<p>ç¬¬ä¸‰ä¸ª:</p>
<p><img src="Wireshark-Lab-IP-v7-0/image-20230421114026434.png" alt="image-20230421114026434"></p>
<p>å¯ä»¥å‘ç°, Id, TTL, Header checksumæ”¹å˜äº†.</p>
<ul>
<li>
<p>å“ªäº›å­—æ®µä¿æŒä¸å˜? å“ªä¸ªå­—æ®µå¿…é¡»ä¿æŒä¸å˜? å“ªäº›å­—æ®µå¿…é¡»æ›´æ”¹? ä¸ºä»€ä¹ˆ?</p>
<p><img src="Wireshark-Lab-IP-v7-0/image-20230421114245968.png" alt="image-20230421114245968"></p>
<ul>
<li>Version, Header Length , TOS(Differentiate Services Fieldå·®å¼‚åŒ–æœåŠ¡é¢†åŸŸ), Flag, TTL, Protocol, SIP,DIPä¿æŒä¸å˜</li>
<li>Version, Protocol, TOS, Header Lenå¿…é¡»ä¿æŒä¸å˜.</li>
<li>Identification, checksum,TTLå¿…é¡»æ›´æ”¹</li>
</ul>
</li>
<li>
<p>æè¿°æ‚¨åœ¨ IP æ•°æ®æŠ¥çš„æ ‡è¯†å­—æ®µçš„å€¼ä¸­çœ‹åˆ°çš„æ¨¡å¼</p>
</li>
</ul>
<p>æ¯å‘ä¸€ä¸ªICMPçš„æ•°æ®æŠ¥, IDå­—æ®µåŠ ä¸€(ä¸åˆ†ç‰‡çš„æƒ…å†µä¸‹, åˆ†ç‰‡æ—¶ä¸€ä¸ªIPæ•°æ®æŠ¥çš„ä¸åŒç‰‡å…·æœ‰ç›¸åŒçš„ID)</p>
<ul>
<li>ä¸‹ä¸€æ­¥(æ•°æ®åŒ…ä»æŒ‰æ¥æºåœ°å€æ’åº)æŸ¥æ‰¾æœ€è¿‘çš„(ç¬¬ä¸€è·³)è·¯ç”±å™¨å‘é€åˆ°æ‚¨çš„è®¡ç®—å™¨çš„ä¸€ç³»åˆ— ICMP TTL è¶…å‡ºçš„å›å¤è®¯æ¯ã€‚</li>
<li>ID å­—æ®µå’Œ TTL å­—æ®µçš„å€¼æ˜¯å¤šå°‘?</li>
</ul>
<p><img src="Wireshark-Lab-IP-v7-0/image-20230421114303180.png" alt="image-20230421114303180"></p>
<ul>
<li>
<p>å¯¹äºæœ€è¿‘(ç¬¬ä¸€è·³)è·¯ç”±å™¨å‘é€åˆ°æ‚¨çš„è®¡ç®—å™¨çš„æ‰€æœ‰ ICMP TTL è¶…å‡ºçš„å›å¤ï¼Œè¿™äº›å€¼æ˜¯å¦ä¿æŒä¸å˜?ä¸ºä»€ä¹ˆ?</p>
<p>TTLä¿æŒä¸å˜, ä½†IDæ”¹å˜äº†. TTLéƒ½ä¸º64(å¯ä»¥æ”¹å˜, ç†è®ºä¸Šå¯ä»¥ä¸º1, å› ä¸ºç¬¬ä¸€å°è·¯ç”±å™¨åˆ°æˆ‘çš„ä¸»æœºä¸€è·³å¯è¾¾)</p>
<p>åœ¨ä¸ç®¡æ˜¯å‘å›ç»™æˆ‘çš„time to live exceededè¿˜æ˜¯ICMP reply TTLçš„å€¼éƒ½ä¸º64, å¯èƒ½æ˜¯é»˜è®¤çš„å€¼.</p>
</li>
</ul>
<blockquote>
<p>å•å‡»â€œæ—¶é—´â€åˆ—ï¼Œå†æ¬¡æŒ‰æ—¶é—´å¯¹æ•°æ®åŒ…åˆ—è¡¨è¿›è¡Œæ’åºã€‚</p>
</blockquote>
<ul>
<li>åœ¨å°† pingplotter ä¸­çš„æ•°æ®åŒ…å¤§å°æ›´æ”¹ä¸º 2000 åï¼ŒæŸ¥æ‰¾è®¡ç®—æœºå‘é€çš„ç¬¬ä¸€ä¸ª ICMP Echo Request æ¶ˆæ¯ã€‚è¯¥æ¶ˆæ¯æ˜¯å¦å·²åˆ†ç‰‡ä¸ºå¤šä¸ª IP æ•°æ®æŠ¥?</li>
<li>æ‰“å°å‡ºç¢ç‰‡ IP æ•°æ®æŠ¥çš„ç¬¬ä¸€ä¸ªç‰‡æ®µã€‚ IP å¤´ä¸­çš„å“ªäº›ä¿¡æ¯è¡¨æ˜æ•°æ®æŠ¥å·²ç¢ç‰‡ åŒ–? IP å¤´ä¸­çš„å“ªäº›ä¿¡æ¯è¡¨æ˜è¿™æ˜¯ç¬¬ä¸€ä¸ªç‰‡æ®µè¿˜æ˜¯åä¸€ä¸ªç‰‡æ®µ? è¿™ä¸ª IP æ•°æ®æŠ¥æœ‰å¤šé•¿?</li>
<li>æ‰“å°å‡ºç¢ç‰‡ IP æ•°æ®æŠ¥çš„ç¬¬äºŒä¸ªç‰‡æ®µã€‚ IP æ ‡å¤´ä¸­çš„å“ªäº›ä¿¡æ¯è¡¨æ˜è¿™ä¸æ˜¯ç¬¬ä¸€ ä¸ªæ•°æ®æŠ¥ç‰‡æ®µ? æ˜¯å¦è¿˜æœ‰æ›´å¤šçš„ç‰‡æ®µ? ä½ æ˜¯å¦‚ä½•çŸ¥é“çš„?</li>
</ul>
<p>æ˜¯çš„, è¯¥æ¶ˆæ¯è¢«åˆ†ç‰‡äº†, å¯ä»¥é€šè¿‡flagå­—æ®µçœ‹å‡º, Fragmen Offset ä¸º1480, è€ŒMore Fragmentä¸º0 ,å‘Šè¯‰è¿™æ˜¯ç¬¬äºŒä¸ªmessage, é‚£ç¬¬ä¸€ä¸ªåˆ°å“ªé‡Œå»äº†å‘¢?</p>
<p><img src="Wireshark-Lab-IP-v7-0/image-20230421114317964.png" alt="image-20230421114317964"></p>
<p>Wiresharkå‘Šè¯‰æˆ‘åœ¨frame 73, äºæ˜¯æˆ‘å»å¯»æ‰¾frame73</p>
<p><em>73frameå’Œ74frameçš„payload å’Œ ä¸º 1980, å› ä¸ºè§„å®šäº†ICMPçš„IPæ•°æ®æŠ¥å¤§å°ä¸º2000, ä½†ç”±äºIPå¤´éƒ¨çš„20byte, å®é™…çš„payloadæ°å¥½ä¸º1980byte</em></p>
<p><img src="Wireshark-Lab-IP-v7-0/image-20230421114327978.png" alt="image-20230421114327978"></p>
<p>æ³¨æ„åˆ°å‘åˆ°ç¬¬ä¸€ä¸ªmessageç«Ÿç„¶ä¸æ˜¯ICMPmessage, è€Œæ˜¯ä¸€ä¸ªIPdatagram</p>
<p><img src="Wireshark-Lab-IP-v7-0/image-20230421114340203.png" alt="image-20230421114340203"></p>
<p>æ‰“å¼€IPå¤´éƒ¨, æˆ‘ä»¬å‘ç°, è¿™ä»ç„¶æ˜¯ä¸€ä¸ªICMPçš„æ•°æ®æŠ¥, ä½†æ˜¯åœ¨IPçš„æ•°æ®éƒ¨åˆ†å¹¶æ²¡æœ‰ICMPå¤´éƒ¨.</p>
<p><img src="Wireshark-Lab-IP-v7-0/image-20230421114350725.png" alt="image-20230421114350725"></p>
<p><img src="Wireshark-Lab-IP-v7-0/image-20230421114403647.png" alt="image-20230421114403647"></p>
<ul>
<li>
<p>åœ¨ç¬¬ä¸€ä¸ªå’Œç¬¬äºŒä¸ªç‰‡æ®µä¸­ï¼ŒIP æ ‡å¤´ä¸­å“ªäº›å­—æ®µå‘ç”Ÿäº†å˜åŒ–?</p>
<p>ç¬¬ä¸€ä¸ªfregment:</p>
<p><img src="Wireshark-Lab-IP-v7-0/image-20230421114415389.png" alt="image-20230421114415389"></p>
<p>ç¬¬äºŒç‰‡:</p>
<p><img src="Wireshark-Lab-IP-v7-0/image-20230421114431692.png" alt="image-20230421114431692"></p>
<p>æ³¨æ„åˆ°çº¢è‰²éƒ¨åˆ†å‘é€äº†æ”¹å˜, è€Œè“è‰²éƒ¨åˆ†æ²¡æœ‰æ”¹å˜, IPæ•°æ®æŠ¥ç”¨IDæ¥æ ‡è¯†å¤šä¸ªç‰‡æ˜¯å¦å±äºåŒä¸€ä¸ªIPæ•°æ®æŠ¥.</p>
</li>
</ul>
<blockquote>
<p>ç°åœ¨ï¼Œåœ¨å°† pingplotter ä¸­çš„æ•°æ®åŒ…å¤§å°æ›´æ”¹ä¸º 3500 åï¼Œæ‰¾åˆ°è®¡ç®—æœºå‘é€çš„ç¬¬ä¸€ä¸ª ICMP Echo Request æ¶ˆæ¯ã€‚</p>
</blockquote>
<ul>
<li>
<p>ä»åŸå§‹æ•°æ®æŠ¥åˆ›å»ºäº†å¤šå°‘ä¸ªç‰‡?</p>
<p>ä¸‰ä¸ªç‰‡</p>
<p><img src="Wireshark-Lab-IP-v7-0/image-20230421114440735.png" alt="image-20230421114440735"></p>
</li>
<li>
<p>ç‰‡æ®µä¸­ IP æ ‡å¤´ä¸­çš„å“ªäº›å­—æ®µå‘ç”Ÿäº†å˜åŒ–?</p>
<p>å’Œä¸Šä¸€ä¸ªç»“è®ºç›¸åŒ, çº¢è‰²éƒ¨åˆ†å‘é€äº†æ”¹å˜, è€Œè“è‰²éƒ¨åˆ†æ²¡æœ‰æ”¹å˜, IPæ•°æ®æŠ¥ç”¨IDæ¥æ ‡è¯†å¤šä¸ªç‰‡æ˜¯å¦å±äºåŒä¸€ä¸ªIPæ•°æ®æŠ¥.</p>
</li>
</ul>
<p><img src="Wireshark-Lab-IP-v7-0/image-20230421114449611.png" alt="image-20230421114449611"></p>

    </div>

    
    
    
      
  <div class="popular-posts-header">Related Posts</div>
  <ul class="popular-posts">
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="/2023/05/05/Wireshark-Lab-ICMP/" rel="bookmark">Wireshark Lab: ICMP</a></div>
    </li>
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="/2023/05/08/Wireshark-Lab-802-11/" rel="bookmark">Wireshark Lab 802.11</a></div>
    </li>
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="/2023/04/21/Wireshark-Lab-TCP/" rel="bookmark">Wireshark Lab: TCP</a></div>
    </li>
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="/2023/04/20/Wireshark-lab-HTTP/" rel="bookmark">Wireshark lab HTTP</a></div>
    </li>
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="/2023/05/08/Wireshark-Lab-Ethernet-and-ARP/" rel="bookmark">Wireshark Lab: Ethernet and ARP</a></div>
    </li>
  </ul>

        

  <div class="followme">
    <p>Welcome to my other publishing channels</p>

    <div class="social-list">

        <div class="social-item">
          <a target="_blank" class="social-link" href="/atom.xml">
            <span class="icon">
              <i class="fa fa-rss"></i>
            </span>

            <span class="label">RSS</span>
          </a>
        </div>
    </div>
  </div>


      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/computer-network/" rel="tag"># computer network</a>
              <a href="/tags/lab/" rel="tag"># lab</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item"></div>
      <div class="post-nav-item">
    <a href="/2023/04/20/Wireshark-lab-HTTP/" rel="next" title="Wireshark lab HTTP">
      Wireshark lab HTTP <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="æ¥¼å…°"
      src="/icon/avatar.png">
  <p class="site-author-name" itemprop="name">æ¥¼å…°</p>
  <div class="site-description" itemprop="description">æ¥¼å…°çš„Blog</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">14</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">6</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">13</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/Trevoewu" title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;Trevoewu" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:littletrevorwu@gmail.com" title="E-Mail â†’ mailto:littletrevorwu@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.youtube.com/channel/UCUq2pPd5uGDITzu2GP7CqRA" title="YouTube â†’ https:&#x2F;&#x2F;www.youtube.com&#x2F;channel&#x2F;UCUq2pPd5uGDITzu2GP7CqRA" rel="noopener" target="_blank"><i class="fab fa-youtube fa-fw"></i>YouTube</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">æ¥¼å…°</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
    <span title="Symbols count total">57k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="Reading time total">1:35</span>
</div>
        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/pjax/pjax.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>

  <script>
var pjax = new Pjax({
  selectors: [
    'head title',
    '#page-configurations',
    '.content-wrap',
    '.post-toc-wrap',
    '.languages',
    '#pjax'
  ],
  switches: {
    '.post-toc-wrap': Pjax.switches.innerHTML
  },
  analytics: false,
  cacheBust: false,
  scrollTo : !CONFIG.bookmark.enable
});

window.addEventListener('pjax:success', () => {
  document.querySelectorAll('script[data-pjax], script#page-configurations, #pjax script').forEach(element => {
    var code = element.text || element.textContent || element.innerHTML || '';
    var parent = element.parentNode;
    parent.removeChild(element);
    var script = document.createElement('script');
    if (element.id) {
      script.id = element.id;
    }
    if (element.className) {
      script.className = element.className;
    }
    if (element.type) {
      script.type = element.type;
    }
    if (element.src) {
      script.src = element.src;
      // Force synchronous loading of peripheral JS.
      script.async = false;
    }
    if (element.dataset.pjax !== undefined) {
      script.dataset.pjax = '';
    }
    if (code !== '') {
      script.appendChild(document.createTextNode(code));
    }
    parent.appendChild(script);
  });
  NexT.boot.refresh();
  // Define Motion Sequence & Bootstrap Motion.
  if (CONFIG.motion.enable) {
    NexT.motion.integrator
      .init()
      .add(NexT.motion.middleWares.subMenu)
      .add(NexT.motion.middleWares.postList)
      .bootstrap();
  }
  NexT.utils.updateSidebarPosition();
});
</script>




  















    <div id="pjax">
  

  
<script src="https://unpkg.com/darkmode-js@1.5.7/lib/darkmode-js.min.js"></script>

<script>
var options = {
  bottom: '64px',
  right: 'unset',
  left: '32px',
  time: '0.5s',
  mixColor: 'transparent',
  backgroundColor: 'transparent',
  buttonColorDark: '#100f2c',
  buttonColorLight: '#fff',
  saveInCookies: true,
  label: 'ğŸŒ“',
  autoMatchOsTheme: true
}
const darkmode = new Darkmode(options);
window.darkmode = darkmode;
darkmode.showWidget();
</script>

    </div>
</body>
</html>
