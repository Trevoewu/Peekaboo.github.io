<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/icon/avatar.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icon/avatar.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icon/avatar.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ysabeau:300,300italic,400,400italic,700,700italic|Liu Jian Mao Cao:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">

<link href="https://fonts.googleapis.com/css?family=Noto+Serif+SC|Roboto&display=swap" rel="stylesheet">
<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"trevoewu.github.io","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":true},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>
  <meta name="description" content="In this lab, weâ€™ll explore several aspects of the ICMP protocol: åœ¨æœ¬å®éªŒä¸­ï¼Œæˆ‘ä»¬å°†æ¢è®¨ ICMP åè®®çš„å‡ ä¸ªæ–¹é¢:">
<meta property="og:type" content="article">
<meta property="og:title" content="Wireshark Lab: ICMP">
<meta property="og:url" content="https://trevoewu.github.io/2023/05/05/Wireshark-Lab-ICMP/index.html">
<meta property="og:site_name" content="æ¥¼å…°">
<meta property="og:description" content="In this lab, weâ€™ll explore several aspects of the ICMP protocol: åœ¨æœ¬å®éªŒä¸­ï¼Œæˆ‘ä»¬å°†æ¢è®¨ ICMP åè®®çš„å‡ ä¸ªæ–¹é¢:">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://trevoewu.github.io/2023/05/05/Wireshark-Lab-ICMP/Wireshark-Lab-ICMP/image-20230505125410545.png">
<meta property="og:image" content="https://trevoewu.github.io/2023/05/05/Wireshark-Lab-ICMP/Wireshark-Lab-ICMP/image-20230505110353038.png">
<meta property="og:image" content="https://trevoewu.github.io/2023/05/05/Wireshark-Lab-ICMP/Wireshark-Lab-ICMP/image-20230505110809611.png">
<meta property="og:image" content="https://trevoewu.github.io/2023/05/05/Wireshark-Lab-ICMP/Wireshark-Lab-ICMP/image-20230505125749494.png">
<meta property="og:image" content="https://trevoewu.github.io/2023/05/05/Wireshark-Lab-ICMP/Wireshark-Lab-ICMP/image-20230505131005238.png">
<meta property="og:image" content="https://trevoewu.github.io/2023/05/05/Wireshark-Lab-ICMP/Wireshark-Lab-ICMP/image-20230505140604234.png">
<meta property="og:image" content="https://trevoewu.github.io/2023/05/05/Wireshark-Lab-ICMP/Wireshark-Lab-ICMP/image-20230505140719354.png">
<meta property="og:image" content="https://trevoewu.github.io/2023/05/05/Wireshark-Lab-ICMP/Wireshark-Lab-ICMP/image-20230505111220401.png">
<meta property="og:image" content="https://trevoewu.github.io/2023/05/05/Wireshark-Lab-ICMP/Wireshark-Lab-ICMP/image-20230505111244920.png">
<meta property="og:image" content="https://trevoewu.github.io/2023/05/05/Wireshark-Lab-ICMP/Wireshark-Lab-ICMP/image-20230505141720372.png">
<meta property="og:image" content="https://trevoewu.github.io/2023/05/05/Wireshark-Lab-ICMP/Wireshark-Lab-ICMP/image-20230505141845947.png">
<meta property="og:image" content="https://trevoewu.github.io/2023/05/05/Wireshark-Lab-ICMP/Wireshark-Lab-ICMP/image-20230505142419713.png">
<meta property="og:image" content="https://trevoewu.github.io/2023/05/05/Wireshark-Lab-ICMP/Wireshark-Lab-ICMP/image-20230505143521010.png">
<meta property="og:image" content="https://trevoewu.github.io/2023/05/05/Wireshark-Lab-ICMP/Wireshark-Lab-ICMP/image-20230505144758780.png">
<meta property="og:image" content="https://trevoewu.github.io/2023/05/05/Wireshark-Lab-ICMP/Wireshark-Lab-ICMP/image-20230505145146382.png">
<meta property="article:published_time" content="2023-05-05T02:48:32.000Z">
<meta property="article:modified_time" content="2023-05-05T07:21:30.475Z">
<meta property="article:author" content="æ¥¼å…°">
<meta property="article:tag" content="computer network">
<meta property="article:tag" content="lab">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://trevoewu.github.io/2023/05/05/Wireshark-Lab-ICMP/Wireshark-Lab-ICMP/image-20230505125410545.png">

<link rel="canonical" href="https://trevoewu.github.io/2023/05/05/Wireshark-Lab-ICMP/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>Wireshark Lab: ICMP | æ¥¼å…°</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="alternate" href="/atom.xml" title="æ¥¼å…°" type="application/atom+xml">
<style>.darkmode--activated{--body-bg-color:#282828;--content-bg-color:#333;--card-bg-color:#555;--text-color:#ccc;--blockquote-color:#bbb;--link-color:#ccc;--link-hover-color:#eee;--brand-color:#ddd;--brand-hover-color:#ddd;--table-row-odd-bg-color:#282828;--table-row-hover-bg-color:#363636;--menu-item-bg-color:#555;--btn-default-bg:#222;--btn-default-color:#ccc;--btn-default-border-color:#555;--btn-default-hover-bg:#666;--btn-default-hover-color:#ccc;--btn-default-hover-border-color:#666;--highlight-background:#282b2e;--highlight-foreground:#a9b7c6;--highlight-gutter-background:#34393d;--highlight-gutter-foreground:#9ca9b6}.darkmode--activated img{opacity:.75}.darkmode--activated img:hover{opacity:.9}.darkmode--activated code{color:#69dbdc;background:0 0}button.darkmode-toggle{z-index:9999}.darkmode-ignore,img{display:flex!important}.beian img{display:inline-block!important}</style></head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">æ¥¼å…°</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://trevoewu.github.io/2023/05/05/Wireshark-Lab-ICMP/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/icon/avatar.png">
      <meta itemprop="name" content="æ¥¼å…°">
      <meta itemprop="description" content="æ¥¼å…°çš„Blog">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="æ¥¼å…°">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Wireshark Lab: ICMP
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2023-05-05 10:48:32 / Modified: 15:21:30" itemprop="dateCreated datePublished" datetime="2023-05-05T10:48:32+08:00">2023-05-05</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">å­¦ä¹ </span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">Symbols count in article: </span>
              <span>12k</span>
            </span>
            <span class="post-meta-item" title="Reading time">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">Reading time &asymp;</span>
              <span>20 mins.</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>In this lab, weâ€™ll explore several aspects of the ICMP protocol:<br>
åœ¨æœ¬å®éªŒä¸­ï¼Œæˆ‘ä»¬å°†æ¢è®¨ ICMP åè®®çš„å‡ ä¸ªæ–¹é¢:</p>
<span id="more"></span>
<ul>
<li>
<p>ICMP messages generating by the Ping program; Ping ç¨‹åºç”Ÿæˆçš„ ICMP æ¶ˆæ¯;</p>
</li>
<li>
<p>ICMP messages generated by the Traceroute program; Traceroute ç¨‹åºç”Ÿæˆçš„ ICMP æ¶ˆæ¯;</p>
</li>
<li>
<p>the format and contents of an ICMP message. ICMP æ¶ˆæ¯çš„æ ¼å¼å’Œå†…å®¹ã€‚</p>
</li>
</ul>
<p>Before attacking this lab, youâ€™re encouraged to review the ICMP material in section 5.6<br>
of the text1. We present this lab in the context of the Microsoft Windows operating system. However, it is straightforward to translate the lab to a Unix or Linux environment. åœ¨å¼€å§‹æœ¬å®éªŒä¹‹å‰ï¼Œæˆ‘ä»¬å»ºè®®æ‚¨æŸ¥çœ‹è¯¾æœ¬çš„ 5.6 èŠ‚ä¸­çš„ ICMP ç« èŠ‚ã€‚æ­¤å®éªŒæ˜¯åœ¨Windows ä¸‹å®Œæˆçš„ï¼Œå¦‚æœæ‚¨ä½¿ç”¨å…¶ä»–ç³»ç»Ÿä¹Ÿä¸ç”¨æ‹…å¿ƒï¼Œå› ä¸ºå¤§ä½“éƒ½ç›¸åŒã€‚</p>
<h2 id="ICMP-and-Ping-ICMP-åè®®å’Œ-Ping-ç¨‹åº">ICMP and Ping ICMP åè®®å’Œ Ping ç¨‹åº</h2>
<p>Letâ€™s begin our ICMP adventure by capturing the packets generated by the Ping program. You may recall that the Ping program is simple tool that allows anyone (for example, a network administrator) to verify if a host is live or not. The Ping program in the source host sends a packet to the target IP address; if the target is live, the Ping program in the target host responds by sending a packet back to the source host. As you might have guessed (given that this lab is about ICMP), both of these Ping packets are ICMP packets. è®©æˆ‘ä»¬é€šè¿‡æ•è· Ping ç¨‹åºç”Ÿæˆçš„æ•°æ®åŒ…å¼€å§‹æˆ‘ä»¬çš„ ICMP å®éªŒã€‚ æ‚¨å¯èƒ½è¿˜è®°å¾—Ping ç¨‹åºæ˜¯ä¸€ä¸ªç®€å•çš„å·¥å…·ï¼Œå…è®¸ä»»ä½•äºº(ä¾‹å¦‚:ç½‘ç»œç®¡ç†å‘˜)éªŒè¯ä¸»æœºæ˜¯å¦å­˜åœ¨ã€‚ æºä¸»æœºä¸­çš„ Ping ç¨‹åºå°†æ•°æ®åŒ…å‘é€åˆ°ç›®æ ‡ IP åœ°å€; å¦‚æœç›®æ ‡æ˜¯åœ¨çº¿çš„ï¼Œåˆ™ç›®æ ‡ä¸»æœºä¸­çš„ Ping ç¨‹åºå°†ä¼šå‘é€å“åº” Ping æ•°æ®åŒ…è¯æ˜ä»–åœ¨çº¿ï¼Œè¿™ä¸¤ä¸ª Ping æ•°æ®åŒ…éƒ½æ˜¯ ICMP æ•°æ®åŒ…ã€‚ å› æ­¤æ‚¨å¯èƒ½çŒœå‡ºæˆ‘ä»¬è¿™ä¸ªå®éªŒéƒ½æ˜¯å…³äº ICMP çš„å®éªŒäº†ã€‚</p>
<p>Do the following: è¯·æŒ‰ç…§ä»¥ä¸‹åŠ¨ä½œåš:</p>
<ul>
<li>
<p>Letâ€™s begin this adventure by opening the Windows Command Prompt application (which can be found in your Accessories folder).<br>
æ‰“å¼€ windows çš„å‘½ä»¤æç¤ºç¬¦ã€‚</p>
</li>
<li>
<p>Start up the Wireshark packet sniffer, and begin Wireshark packet capture. å¯åŠ¨ Wireshark æ•°æ®åŒ…å—…æ¢å™¨ï¼Œå¹¶å¼€å§‹ Wireshark æ•°æ®åŒ…æ•è·ã€‚</p>
</li>
<li>
<p>The ping command is in c:\windows\system32, so type either â€œping â€“n 10 hostnameâ€ or â€œc:\windows\system32\ping â€“n 10 hostnameâ€ in the MS-DOS command line (without quotation marks), where hostname is a host on another continent. If youâ€™re outside of Asia, you may want to enter <a target="_blank" rel="noopener" href="http://www.ust.hk">www.ust.hk</a> for the Web server at Hong Kong University of Science and Technology. The argument â€œ-n 10â€ indicates that 10 ping messages should be sent. Then run the Ping program by typing return.</p>
</li>
</ul>
<p>Ping ç¨‹åºåœ¨ c:\windows\system32 ç›®å½•ä¸­ï¼Œæ‰€ä»¥æ‚¨åœ¨å‘½ä»¤æç¤ºç¬¦ä¸­è¾“å…¥â€œping â€“n 10 hostnameâ€ æˆ– â€œc:\windows\system32\ping â€“n 10 hostnameâ€éƒ½æ˜¯æ­£ç¡®çš„ (æ³¨æ„å‘½ä»¤æ˜¯å¼•å·é‡Œçš„å†…å®¹)ã€‚å…¶ä¸­ hostname æ˜¯å¦ä¸€ä¸ªå¤§é™†çš„ä¸»æœºåã€‚å¦‚ æ‚¨å¦‚æœåœ¨éäºšæ´²åœ°åŒºï¼Œå»ºè®®æ‚¨è®¿é—®é¦™æ¸¯ç§‘æŠ€å¤§å­¦ <a target="_blank" rel="noopener" href="http://www.ust.hk">www.ust.hk</a> ï¼Œ å‚æ•°-n 10 ä»£è¡¨å‘é€ 10 ä¸ª Ping æ¶ˆæ¯ï¼Œç„¶åæŒ‰ä¸‹å›è½¦æ‰§è¡Œå‘½ä»¤ã€‚</p>
<ul>
<li>When the Ping program terminates, stop the packet capture in Wireshark. å½“ Ping ç¨‹åºç»ˆæ­¢æ—¶ï¼Œåœæ­¢åœ¨ Wireshark ä¸­æ•è·æ•°æ®åŒ…ã€‚</li>
</ul>
<p>At the end of the experiment, your Command Prompt Window should look something like Figure 1. In this example, the source ping program is in Massachusetts and the destination Ping program is in Hong Kong. From this window we see that the source ping program sent 10 query packets and received 10 responses. Note also that for each response, the source calculates the round-trip time (RTT), which for the 10 packets is on average 375 msec.</p>
<p>åœ¨å®éªŒç»“æŸæ—¶ï¼Œæ‚¨çš„å‘½ä»¤æç¤ºç¬¦çª—å£åº”å¦‚å›¾ 1 æ‰€ç¤ºã€‚åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œæº ping ç¨‹åºä½ äºé©¬è¨è¯¸å¡å·ï¼Œç›®æ ‡ Ping ç¨‹åºä½äºé¦™æ¸¯ã€‚ ä»è¿™ä¸ªçª—å£æˆ‘ä»¬çœ‹åˆ°æº ping ç¨‹åºå‘é€äº†10 ä¸ªæŸ¥è¯¢åŒ…å¹¶æ”¶åˆ°äº† 10 ä¸ªå“åº”ã€‚ å¦è¯·æ³¨æ„ï¼Œå¯¹äºæ¯ä¸ªå“åº”ï¼Œæºè®¡ç®—å¾€è¿”æ—¶é—´ (RTT)ï¼Œå¯¹äº 10 ä¸ªæ•°æ®åŒ…å¹³å‡ä¸º 375 æ¯«ç§’ã€‚</p>
<p><img src="Wireshark-Lab-ICMP/image-20230505125410545.png" alt="image-20230505125410545"></p>
<p>Figure 2 provides a screenshot of the Wireshark output, after â€œicmpâ€ has been entered into the filter display window. Note that the packet listing shows 20 packets: the 10 Ping queries sent by the source and the 10 Ping responses received by the source. Also note that the sourceâ€™s IP address is a private address (behind a NAT) of the form 192.168/12; the destinationâ€™s IP address is that of the Web server at HKUST. Now letâ€™s zoom in on the first packet (sent by the client); in the figure below, the packet contents area provides information about this packet. We see that the IP datagram within this packet has protocol number 01, which is the protocol number for ICMP. This means that the payload of the IP datagram is an ICMP packet.<br>
å¦‚å›¾ 2ï¼Œåœ¨å°†â€œicmpâ€è¾“å…¥è¿‡æ»¤å™¨æ˜¾ç¤ºçª—å£å Wireshark è¾“å‡ºçš„å±å¹•æˆªå›¾ã€‚ è¯·æ³¨æ„ï¼Œ</p>
<p>æ•°æ®åŒ…åˆ—è¡¨æ˜¾ç¤º 20 ä¸ªæ•°æ®åŒ…:æºå‘é€çš„ 10 ä¸ª Ping æŸ¥è¯¢å’Œæºæ¥æ”¶çš„ 10 ä¸ª Ping å“ åº”ã€‚ å¦è¯·æ³¨æ„ï¼Œæºçš„ IP åœ°å€æ˜¯ 192.168 / 12 æ ¼å¼çš„ç§æœ‰åœ°å€(é€šè¿‡ NAT åè®®è¿æ¥ äº’è”ç½‘); ç›®çš„åœ°çš„ IP åœ°å€æ˜¯é¦™æ¸¯ç§‘æŠ€å¤§å­¦ç½‘ç»œæœåŠ¡å™¨çš„ IP åœ°å€ã€‚ ç°åœ¨è®©æˆ‘ä»¬ç‚¹ å‡»æ˜¾ç¤ºç¬¬ä¸€ä¸ªç”±å®¢æˆ·ç«¯å‘é€çš„æ•°æ®åŒ…; åœ¨å›¾ä¸­çš„ä¸‹æ–¹ï¼Œæ•°æ®åŒ…å†…å®¹åŒºåŸŸæä¾›æœ‰å…³æ­¤ æ•°æ®åŒ…çš„ä¿¡æ¯ã€‚ æˆ‘ä»¬çœ‹åˆ°è¯¥æ•°æ®åŒ…ä¸­çš„ IP æ•°æ®æŠ¥å…·æœ‰åè®®å· 01ï¼Œè¿™æ˜¯ ICMP çš„å è®®å·ã€‚ è¿™æ„å‘³ç€ IP æ•°æ®æŠ¥çš„æœ‰æ•ˆè½½è·æ˜¯ ICMP æ•°æ®åŒ…</p>
<p><img src="Wireshark-Lab-ICMP/image-20230505110353038.png" alt="image-20230505110353038"></p>
<center>å›¾ 2 åœ¨ Wireshark ä¸­è¿‡æ»¤ ICMP åè®®å¹¶ä¸”é€‰ä¸­æŸä¸ª ICMP æ¶ˆæ¯<center/>
<p>Figure 3 focuses on the same ICMP but has expanded the ICMP protocol information in the packet contents window. Observe that this ICMP packet is of Type 8 and Code 0 - a so-called ICMP â€œecho requestâ€ packet. (See Figure 5.19 of text.) Also note that this ICMP packet contains a checksum, an identifier, and a sequence number.</p>
<p>å›¾ 3 åŒæ ·ä½¿ç”¨ç›¸åŒçš„ ICMP è¿‡æ»¤å™¨ï¼Œå±•å¼€å¯ä»¥çœ‹åˆ°è¯¥ ICMP åŒ…çš„è¯¦æƒ…ä¿¡æ¯ã€‚ è§‚å¯Ÿåˆ° è¯¥ ICMP æ•°æ®åŒ…æ˜¯ç±»å‹ 8 å’Œä»£ç  0 â€”â€”æ‰€è°“çš„ ICMPâ€œå›åº”è¯·æ±‚â€æ•°æ®åŒ…ã€‚ (è¯·å‚è§ ä¹¦æœ¬çš„å›¾ 5.19ã€‚)æ­¤å¤–ï¼Œæ­¤ ICMP æ•°æ®åŒ…åŒ…å«æ ¡éªŒå’Œï¼Œæ ‡è¯†ç¬¦å’Œåºåˆ—å·</p>
<p><img src="Wireshark-Lab-ICMP/image-20230505110809611.png" alt="image-20230505110809611"></p>
<h2 id="What-to-Hand-In-å›ç­”é—®é¢˜">What to Hand In: å›ç­”é—®é¢˜</h2>
<p>You should hand in a screen shot of the Command Prompt window similar to Figure 1 above. Whenever possible, when answering a question below, you should hand in a printout of the packet(s) within the trace that you used to answer the question asked. Annotate the printout to explain your answer. To print a packet, use File-&gt;Print, choose Selected packet only, choose Packet summary line, and select the minimum amount of packet detail that you need to answer the question.</p>
<p>è¯·å°½é‡æ¸…æ™°çš„å±•ç¤ºæ‚¨çš„ç­”æ¡ˆï¼Œå¿…è¦æ—¶æ‚¨å¯ä»¥åœ¨å›¾ä¸­ç”¨æ ‡è®°è¾…ä»¥è¯´æ˜ã€‚æ‚¨çš„ç­”æ¡ˆåº”è¯¥<br>
ç®€å•å¯è¯»ã€‚</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ping -c 10 bing.com // [-c count] </span><br></pre></td></tr></table></figure>
<p>You should answer the following questions: è¯·å›ç­”ä»¥ä¸‹é—®é¢˜:</p>
<ol>
<li>What is the IP address of your host? What is the IP address of the destination host? æ‚¨çš„ä¸»æœºçš„ IP åœ°å€æ˜¯å¤šå°‘? ç›®æ ‡ä¸»æœºçš„ IP åœ°å€æ˜¯å¤šå°‘?</li>
</ol>
<p><img src="Wireshark-Lab-ICMP/image-20230505125749494.png" alt="image-20230505125749494"></p>
<ol>
<li>Why is it that an ICMP packet does not have source and destination port numbers? ä¸ºä»€ä¹ˆ ICMP æ•°æ®åŒ…æ²¡æœ‰æºç«¯å£å·å’Œç›®çš„ç«¯å£å·?</li>
</ol>
<p><strong>å¤§å¤šæ•°TCP/IPå®ç°ç›´æ¥åœ¨æ“ä½œç³»ç»Ÿä¸­æ”¯æŒpingæœåŠ¡å™¨, å³è¯¥æœåŠ¡å™¨ä¸æ˜¯ä¸€ä¸ªè¿›ç¨‹.</strong></p>
<p>ICMPï¼ˆInternet Control Message Protocolï¼‰æ•°æ®åŒ…æ²¡æœ‰æºç«¯å£å·å’Œç›®çš„ç«¯å£å·ï¼Œå› ä¸ºICMPä¸åƒTCPï¼ˆä¼ è¾“æ§åˆ¶åè®®ï¼‰æˆ–UDPï¼ˆç”¨æˆ·æ•°æ®æŠ¥åè®®ï¼‰é‚£æ ·æ˜¯ä¼ è¾“å±‚åè®®ã€‚ç›¸åï¼ŒICMPæ˜¯ä¸€ç§ç›´æ¥åœ¨IPï¼ˆInternet Protocolï¼‰å±‚ä¹‹ä¸Šè¿è¡Œçš„ç½‘ç»œå±‚åè®®ã€‚</p>
<p>TCPå’ŒUDPä½¿ç”¨æºå’Œç›®çš„åœ°ç«¯å£å·æ¥åœ¨åŒä¸€è®¾å¤‡ä¸Šè¿è¡Œçš„ä¸åŒåº”ç”¨ç¨‹åºä¹‹é—´è¿›è¡Œå¤šè·¯å¤ç”¨å’Œè§£å¤ç”¨æ•°æ®ã€‚ç„¶è€Œï¼ŒICMPä¸ç”¨äºä¼ è¾“åº”ç”¨ç¨‹åºæ•°æ®ï¼Œè€Œæ˜¯ç”¨äºåœ¨ç½‘ç»œè®¾å¤‡ä¹‹é—´ä¼ é€’é”™è¯¯æ¶ˆæ¯å’Œç½‘ç»œçŠ¶æ€ä¿¡æ¯ã€‚å› æ­¤ï¼ŒICMPæ¶ˆæ¯å¹¶ä¸æ˜¯é’ˆå¯¹è®¾å¤‡ä¸Šçš„ç‰¹å®šç«¯å£è€Œè¨€çš„ï¼Œè€Œæ˜¯é’ˆå¯¹è®¾å¤‡æœ¬èº«çš„ã€‚</p>
<p>ICMPæ¶ˆæ¯åŒ…å«ç±»å‹ã€ä»£ç å’Œæ ¡éªŒå’Œç­‰å­—æ®µï¼Œè¿™äº›å­—æ®µç”¨äºæŒ‡ç¤ºæ¶ˆæ¯çš„ç›®çš„å’Œå†…å®¹ã€‚è¿™äº›å­—æ®µå…è®¸ç½‘ç»œè®¾å¤‡é€‚å½“åœ°è§£é‡Šå’Œå“åº”ICMPæ¶ˆæ¯ã€‚ä¾‹å¦‚ï¼Œå½“ä»ä¸€ä¸ªè®¾å¤‡å‘é€pingå‘½ä»¤åˆ°å¦ä¸€ä¸ªè®¾å¤‡æ—¶ï¼Œpingæ•°æ®åŒ…åŒ…å«ä¸€ä¸ªICMPå›æ˜¾è¯·æ±‚æ¶ˆæ¯ï¼Œè¿™ä¿ƒä½¿æ¥æ”¶è®¾å¤‡å‘å‘é€æ–¹å‘é€ä¸€ä¸ªICMPå›æ˜¾å›å¤æ¶ˆæ¯ã€‚ICMPæ•°æ®åŒ…ä¸­ç¼ºå°‘æºå’Œç›®çš„ç«¯å£å·æ˜¯ç”±äºè¿™äº›ä¿¡æ¯å¯¹åè®®çš„è¿è¡Œä¸å¿…è¦ã€‚</p>
<ol>
<li>Examine one of the ping request packets sent by your host. What are the ICMP type and code numbers? What other fields does this ICMP packet have? How many bytes are the checksum, sequence number and identifier fields? æŸ¥çœ‹ä»»æ„çš„è¯·æ±‚ ICMP æ•°æ®åŒ…ï¼Œ ICMP ç±»å‹å’Œä»£ç æ˜¯ä»€ä¹ˆ? è¯¥ ICMP æ•°æ®åŒ…è¿˜æœ‰å“ªäº›å…¶ä»–å­—æ®µ? æ ¡éªŒå’Œï¼Œåºåˆ—å·å’Œæ ‡è¯†ç¬¦å­—æ®µæœ‰å¤šå°‘å­—èŠ‚?</li>
</ol>
<p><strong>Type: 8 code: 0 å›æ˜¾è¯·æ±‚</strong>ã€‚è¿˜åŒ…æ‹¬<strong>æ£€éªŒå’Œ(2 Byte)</strong>, <strong>id(2 Byte)</strong>, <strong>sequence number(2 Byte)</strong></p>
<p><img src="Wireshark-Lab-ICMP/image-20230505131005238.png" alt="image-20230505131005238"></p>
<p><img src="Wireshark-Lab-ICMP/image-20230505140604234.png" alt="image-20230505140604234"></p>
<ol>
<li>Examine the corresponding ping reply packet. What are the ICMP type and code numbers? What other fields does this ICMP packet have? How many bytes are the checksum, sequence number and identifier fields?<br>
æŸ¥çœ‹ä»»æ„çš„å“åº” ICMP æ•°æ®åŒ…ï¼Œ ICMP ç±»å‹å’Œä»£ç æ˜¯ä»€ä¹ˆ? è¯¥ ICMP æ•°æ®åŒ…<br>
è¿˜æœ‰å“ªäº›å…¶ä»–å­—æ®µ? æ ¡éªŒå’Œï¼Œåºåˆ—å·å’Œæ ‡è¯†ç¬¦å­—æ®µæœ‰å¤šå°‘å­—èŠ‚?</li>
</ol>
<p>Type: 0(Echo reply)</p>
<p>Code : 0</p>
<p>è¿˜åŒ…æ‹¬<strong>æ£€éªŒå’Œ(2 Byte)</strong>, <strong>id(2 Byte)</strong>, <strong>sequence number</strong>**(2 Byte**)</p>
<p><img src="Wireshark-Lab-ICMP/image-20230505140719354.png" alt="image-20230505140719354"></p>
<h2 id="ICMP-and-Traceroute-ICMP-åè®®å’Œ-Traceroute-å‘½ä»¤">ICMP and Traceroute ICMP åè®®å’Œ Traceroute å‘½ä»¤</h2>
<p>Letâ€™s now continue our ICMP adventure by capturing the packets generated by the Traceroute program. You may recall that the Traceroute program can be used to figure out the path a packet takes from source to destination. Traceroute is discussed in Section 1.4 and in Section 5.6 of the text.<br>
ç°åœ¨è®©æˆ‘ä»¬é€šè¿‡æ•è· Traceroute ç¨‹åºç”Ÿæˆçš„æ•°æ®åŒ…ç»§ç»­æˆ‘ä»¬çš„ ICMP å®éªŒã€‚ æ‚¨å¯èƒ½<br>
è¿˜è®°å¾— Traceroute ç¨‹åºå¯ç”¨äºç¡®å®šæ•°æ®åŒ…ä»æºåˆ°ç›®çš„åœ°çš„è·¯å¾„ã€‚ Traceroute å‘½ä»¤å¯ ä»¥åœ¨è¯¾æœ¬ä¸­çš„ 1.4 èŠ‚å’Œ 5.6 èŠ‚ä¸­æ‰¾åˆ°</p>
<p>Traceroute is implemented in different ways in Unix/Linux/MacOS and in Windows. In Unix/Linux, the source sends a series of UDP packets to the target destination using an unlikely destination port number; in Windows, the source sends a series of ICMP packets to the target destination. For both operating systems, the program sends the first packet with TTL=1, the second packet with TTL=2, and so on. Recall that a router will decrement a packetâ€™s TTL value as the packet passes through the router. When a packet arrives at a router with TTL=1, the router sends an ICMP error packet back to the source. In the following, weâ€™ll use the native Windows tracert program. A shareware version of a much nice Windows Traceroute program is pingplotter (<a target="_blank" rel="noopener" href="http://www.pingplotter.com">www.pingplotter.com</a>). Weâ€™ll use pingplotter in our Wireshark IP lab since it provides additional functionality that weâ€™ll need there.<br>
æ¯ä¸ªç³»ç»Ÿæœ‰ä¸åŒè·¯ç”±è·Ÿè¸ªå®ç°åŠæ³•ï¼Œåœ¨ Unix / Linux ä¸­ï¼Œè·¯ç”±è·Ÿè¸ª traceroute ä½¿ç”¨ å‘é€ä¸å¯åˆ°è¾¾(æ— ä½¿ç”¨çš„)ç«¯å£çš„ <strong>UDP</strong> åŒ…æ¥å®ç°ï¼Œåœ¨ Windows ä¸­ï¼Œè·¯ç”±è·Ÿè¸ª tracert ä»…ä½¿ç”¨ <strong>ICMP</strong> æ•°æ®åŒ…æ¥å®ç°ï¼Œä½†æ˜¯å¯¹äºä»–ä»¬æ¥è¯´ï¼Œéƒ½æ˜¯å‘é€ TTL å¢åŠ çš„æ•°æ® åŒ…ï¼Œä¾‹å¦‚ TTL=1,TTL=2ï¼Œå›æƒ³ä¸‹ï¼Œæ¯ç»è¿‡ä¸€ä¸ªè·¯ç”±å™¨ï¼ŒTTL å°±ä¼šå‡ä¸€ï¼Œ<strong>å½“ TTL=1 çš„åŒ…è¾¾åˆ°è·¯ç”±å™¨ï¼Œè¯¥è·¯ç”±å™¨ä¼šå°†è¯¥åŒ…ä¸¢å¼ƒï¼Œå¹¶ä¸”å‘é€ ICMP é”™è¯¯ç»™è¯·æ±‚çš„æœºå™¨</strong>ï¼Œåœ¨ æœ¬æ¬¡å®éªŒï¼Œæˆ‘ä»¬ä½¿ç”¨ window è‡ªå¸¦çš„ tracertã€‚æœ‰ä¸€ä¸ªè·¨å¹³å° Windows Traceroute ç¨‹åºçš„æ˜¯ pingplotter(<a target="_blank" rel="noopener" href="http://www.pingplotter.com">www.pingplotter.com</a>)(æ”¶è´¹ä½†å¯ä»¥è¯•ç”¨)ã€‚ æˆ‘ä»¬å°†åœ¨ Wireshark IP å®éªŒå®¤ä¸­ä½¿ç”¨ pingplotterï¼Œå› ä¸ºå®ƒæä¾›äº†æˆ‘ä»¬åœ¨é‚£é‡Œéœ€è¦çš„å…¶ä»–åŠŸèƒ½ã€‚</p>
<p>Do the following4: è¯·æ‰§è¡Œä»¥ä¸‹æ­¥éª¤</p>
<ul>
<li>
<p>Letâ€™s begin by opening the Windows Command Prompt application (which can be found in your Accessories folder).<br>
æ‰“å¼€ windows çš„å‘½ä»¤æç¤ºç¬¦ã€‚</p>
</li>
<li>
<p>Start up the Wireshark packet sniffer, and begin Wireshark packet capture. å¯åŠ¨ Wireshark æ•°æ®åŒ…å—…æ¢å™¨ï¼Œå¹¶å¼€å§‹ Wireshark æ•°æ®åŒ…æ•è·ã€‚</p>
</li>
<li>
<p>The tracert command is in c:\windows\system32, so type either â€œtracert hostnameâ€ or â€œc:\windows\system32\tracert hostnameâ€ in the MS-DOS command line (without quotation marks), where hostname is a host on another continent. (Note that on a Windows machine, the command is â€œtracertâ€ and not â€œtracerouteâ€.) If youâ€™re outside of Europe, you may want to enter <a target="_blank" rel="noopener" href="http://www.inria.fr">www.inria.fr</a> for the Web server at INRIA, a computer science research institute in France. Then run the Traceroute program by typing return.<br>
tracert ç¨‹åºåœ¨ c:\windows\system32 ç›®å½•ä¸­ï¼Œæ‰€ä»¥æ‚¨åœ¨å‘½ä»¤æç¤ºç¬¦ä¸­è¾“å…¥</p>
<p>â€œtracert hostnameâ€ æˆ– â€œc:\windows\system32\ tracert hostnameâ€éƒ½æ˜¯æ­£ç¡®çš„(æ³¨ æ„å‘½ä»¤æ˜¯å¼•å·é‡Œçš„å†…å®¹)ã€‚å…¶ä¸­ hostname æ˜¯å¦ä¸€ä¸ªå¤§é™†çš„ä¸»æœºåã€‚å¦‚æ‚¨å¦‚ æœåœ¨éæ¬§æ´²åœ°åŒºï¼Œå»ºè®®æ‚¨è®¿é—®æ³•å›½ INRIA(è®¡ç®—æœºç§‘å­¦ç ”ç©¶æ‰€) <a target="_blank" rel="noopener" href="http://www.inria.fr">www.inria.fr</a> ç„¶åæŒ‰ä¸‹å›è½¦æ‰§è¡Œå‘½ä»¤ã€‚</p>
</li>
<li>
<p>When the Traceroute program terminates, stop packet capture in Wireshark. å½“ Traceroute ç¨‹åºç»ˆæ­¢æ—¶ï¼Œåœæ­¢åœ¨ Wireshark ä¸­æ•è·æ•°æ®åŒ…ã€‚</p>
<p>At the end of the experiment, your Command Prompt Window should look something like Figure 4. In this figure, the client Traceroute program is in Massachusetts and the target destination is in France. From this figure we see that for each TTL value, the</p>
</li>
</ul>
<p>source program sends three probe packets. Traceroute displays the RTTs for each of the probe packets, as well as the IP address (and possibly the name) of the router that returned the ICMP TTL-exceeded message. åœ¨å®éªŒç»“æŸæ—¶ï¼Œæ‚¨çš„å‘½ä»¤æç¤ºç¬¦çª—å£åº”å¦‚å›¾ 4 æ‰€ç¤ºã€‚åœ¨æ­¤å›¾ä¸­ï¼Œå®¢æˆ·ç«¯ Tracerouteç¨‹åºä¸»æœºä½äºé©¬è¨è¯¸å¡å·ï¼Œç›®æ ‡ä¸»æœºä½äºæ³•å›½ã€‚ ä»è¯¥å›¾ä¸­æˆ‘ä»¬çœ‹åˆ°ï¼Œå¯¹äºæ¯ä¸ª TTL å€¼ï¼Œæºç¨‹åºå‘é€ä¸‰ä¸ªæ¢æµ‹åŒ…ã€‚ Traceroute æ˜¾ç¤ºæ¯ä¸ªæ¢æµ‹åŒ…çš„ RTTï¼Œä»¥åŠè¿”å› ICMP TTL è¶…å‡ºæ¶ˆæ¯çš„è·¯ç”±å™¨çš„ IP åœ°å€(å¯èƒ½è¿˜æœ‰åç§°)ã€‚</p>
<p><img src="Wireshark-Lab-ICMP/image-20230505111220401.png" alt="image-20230505111220401"></p>
<p>Figure 5 displays the Wireshark window for an ICMP packet returned by a router. Note that this ICMP error packet contains many more fields than the Ping ICMP messages.<br>
å›¾ 5 æ˜¾ç¤ºäº†è·¯ç”±å™¨è¿”å›çš„ ICMP æ•°æ®åŒ…çš„ Wireshark çª—å£ã€‚ è¯·æ³¨æ„ï¼Œæ­¤ ICMP é”™è¯¯æ•°æ®åŒ…åŒ…å«çš„å­—æ®µæ¯” Ping ICMP æ¶ˆæ¯å¤šå¾—å¤šã€‚</p>
<h2 id="image-20230505111244920"><img src="Wireshark-Lab-ICMP/image-20230505111244920.png" alt="image-20230505111244920"></h2>
<p>If you are unable to run Wireshark live on a computer, you can download the zip file <a target="_blank" rel="noopener" href="http://gaia.cs.umass.edu/wireshark-labs/wireshark-traces.zip">http://gaia.cs.umass.edu/wireshark-labs/wireshark-traces.zip</a> and extract the file ICMP-ethereal-trace-2. The traces in this zip file were collected by Wireshark running on one of the authorâ€™s computers, while performing the steps indicated in the Wireshark lab. Once you have downloaded the trace, you can load it into Wireshark and view the trace using the File pull down menu, choosing Open, and then selecting the ICMP-ethereal-trace-2 trace file. You can then use this trace file to answer the questions below. åŒæ ·å¦‚æœæ‚¨æ— æ³•æŠ“åŒ…ï¼Œå»ºè®®æ‚¨ä¸‹è½½ä½œè€…çš„æŠ“åŒ…ç»“æœ <a target="_blank" rel="noopener" href="http://gaia.cs.umass.edu/wireshark-labs/wireshark-traces.zip">http://gaia.cs.umass.edu/wireshark-labs/wireshark-traces.zip</a> è§£å‹å¹¶ä¸”ä½¿ç”¨ Wireshark æ‰“å¼€ ICMP-ethereal-trace-2 è¿›è¡Œåˆ†æã€‚</p>
<hr>
<h2 id="What-to-Hand-In-å›ç­”é—®é¢˜-2">What to Hand In: å›ç­”é—®é¢˜</h2>
<p>For this part of the lab, you should hand in a screen shot of the Command Prompt window. Whenever possible, when answering a question below, you should hand in a printout of the packet(s) within the trace that you used to answer the question asked. Annotate the printout to explain your answer. To print a packet, use File-&gt;Print, choose Selected packet only, choose Packet summary line, and select the minimum amount of packet detail that you need to answer the question. è¯·å°½é‡æ¸…æ™°çš„å±•ç¤ºæ‚¨çš„ç­”æ¡ˆï¼Œå¿…è¦æ—¶æ‚¨å¯ä»¥åœ¨å›¾ä¸­ç”¨æ ‡è®°è¾…ä»¥è¯´æ˜ã€‚æ‚¨çš„ç­”æ¡ˆåº”è¯¥ç®€å•å¯è¯»</p>
<p>Answer the following questions: è¯·å›ç­”ä»¥ä¸‹é—®é¢˜:</p>
<ol>
<li>
<p>What is the IP address of your host? What is the IP address of the target destination host?<br>
æ‚¨çš„ä¸»æœºçš„ IP åœ°å€æ˜¯å¤šå°‘? ç›®æ ‡ç›®æ ‡ä¸»æœºçš„ IP åœ°å€æ˜¯å¤šå°‘?</p>
</li>
<li>
<p>If ICMP sent UDP packets instead (as in Unix/Linux), would the IP protocol number still be 01 for the probe packets? If not, what would it be?<br>
å¦‚æœ ICMP å‘é€äº† UDP æ•°æ®åŒ…(å¦‚åœ¨ Unix / Linux ä¸­)ï¼Œé‚£ä¹ˆæ¢æµ‹æ•°æ®åŒ…çš„ IP åè®®å·ä»ç„¶æ˜¯ 01 å—? å¦‚æœæ²¡æœ‰ï¼Œå®ƒä¼šæ˜¯ä»€ä¹ˆ?</p>
</li>
</ol>
<p><img src="Wireshark-Lab-ICMP/image-20230505141720372.png" alt="image-20230505141720372"></p>
<ol>
<li>Examine the ICMP echo packet in your screenshot. Is this different from the ICMP ping query packets in the first half of this lab? If yes, how so? æ£€æŸ¥å±å¹•æˆªå›¾ä¸­çš„ ICMP å“åº”æ•°æ®åŒ…ã€‚ è¿™ä¸æœ¬å®éªŒçš„å‰åŠéƒ¨åˆ†ä¸­çš„ ICMP ping æŸ¥è¯¢æ•°æ®åŒ…ä¸åŒå—? å¦‚æœä¸åŒï¼Œè¯·è§£é‡Šä¸ºä»€ä¹ˆ?</li>
</ol>
<p><img src="Wireshark-Lab-ICMP/image-20230505141845947.png" alt="image-20230505141845947"></p>
<p>è¯¥ICMP Message Type:11 Code: 0 , è·¯ç”±å™¨å‘Šè¯‰æºä¸»æœºä½ çš„åˆ†ç»„ç”±äºTTLå‡ä¸º0è¢«æˆ‘ä¸¢æ‰äº†(Time-to-live exceeded), è¿™æ˜¯Pingå’Œtreacerouteç¨‹åºçš„å·¥ä½œåŸç†ä¸åŒå¯¼è‡´çš„, Pingç¨‹åºå‘é€è¯·æ±‚å›æ˜¾æŠ¥æ–‡, ç›®æ ‡ä¸»æœºæ”¶åˆ°åå›å¤(å›æ˜¾å›ç­”), è€Œtracerouteç¨‹åºé€šè¿‡å‘é€TTLä»1é€’å¢çš„UPDæ•°æ®æŠ¥æ¥è·å¾—è·¯ç”±ä¿¡æ¯.</p>
<ol>
<li>Examine the ICMP error packet in your screenshot. It has more fields than the ICMP echo packet. What is included in those fields?<br>
æ£€æŸ¥å±å¹•æˆªå›¾ä¸­çš„ ICMP é”™è¯¯æ•°æ®åŒ…ã€‚ å®ƒå…·æœ‰æ¯” ICMP å“åº”æ•°æ®åŒ…æ›´å¤šçš„å­—æ®µã€‚ è¿™ä¸ªæ•°æ®åŒ…å«å“ªäº›å†…å®¹?</li>
</ol>
<p><img src="Wireshark-Lab-ICMP/image-20230505142419713.png" alt="image-20230505142419713"></p>
<p>å¤šäº†IPå¤´éƒ¨, IPå¤´éƒ¨åŒ…å«äº†è¢«ä¸¢å¼ƒçš„IPæ•°æ®æŠ¥çš„å¤´éƒ¨å­—æ®µ</p>
<ol>
<li>Examine the last three ICMP packets received by the source host. How are these packets different from the ICMP error packets? Why are they different? æ£€æŸ¥æºä¸»æœºæ”¶åˆ°çš„æœ€åä¸‰ä¸ª ICMP æ•°æ®åŒ…ã€‚ è¿™äº›æ•°æ®åŒ…ä¸ ICMP é”™è¯¯æ•°æ®åŒ…æœ‰ä½•ä¸åŒ? ä»–ä»¬ä¸ºä»€ä¹ˆä¸åŒ?</li>
</ol>
<p>æ‰¾ä¸åˆ°â€¦æœ€åéƒ½æ²¡æœ‰æ”¶åˆ°, ä½†æˆ‘è¿˜æ˜¯è¯´å‡ å¥. è¿™äº›åŒä¸ºICMPæ•°æ®åŒ…, ä½†TYPEå’ŒCodeå­—æ®µçš„å­—ä¸åŒ, Type:3 Code:3 ç›®æ ‡ä¸»æœºå‘Šè¯‰æºä¸»æœºç›®æ ‡ç«¯å£ä¸å¯è¾¾, è¿™æ˜¯å› ä¸ºtreacerouteç¨‹åºå‘é€äº†ä¸å¯è¾¾çš„ç«¯å£</p>
<p><img src="Wireshark-Lab-ICMP/image-20230505143521010.png" alt="image-20230505143521010"></p>
<ol>
<li>
<p>Within the tracert measurements, is there a link whose delay is significantly longer than others? Refer to the screenshot in Figure 4, is there a link whose delay is significantly longer than others? On the basis of the router names, can you guess the location of the two routers on the end of this link?</p>
<p>åœ¨ tracert è·Ÿè¸ªæµ‹é‡ä¸­ï¼Œæ˜¯å¦æœ‰ä¸€ä¸ªè¿æ¥çš„å»¶è¿Ÿæ¯”å…¶ä»–è¿æ¥é•¿å¾—å¤š? è¯·å‚é˜… å›¾ 4 ä¸­çš„å±å¹•æˆªå›¾ï¼Œæ˜¯å¦æœ‰è¿æ¥çš„å»¶è¿Ÿæ˜æ˜¾é•¿äºå…¶ä»–è¿æ¥? æ ¹æ®è·¯ç”±å™¨å ç§°ï¼Œæ‚¨èƒ½çŒœå‡ºè¿™ä¸ªè¿æ¥æœ«ç«¯çš„ä¸¤ä¸ªè·¯ç”±å™¨çš„ä½ç½®å—?</p>
</li>
</ol>
<p>å¯ä»¥å‘ç°TTLä¸º6å’Œä¸º10æ—¶, å»¶è¿Ÿå˜åŒ–å¾ˆå¤§, é€šè¿‡best traceç¨‹åºå‘ç°, è¿™ä¸¤ä¸ªè·¯ç”±å™¨çš„ä½ç½®åˆ†åˆ«æ˜¯ä¸­å›½åŒ—äº¬å’Œå¾·å›½ï¼Œé»‘æ£®å·ï¼Œæ³•å…°å…‹ç¦ï¼Œ</p>
<img src="Wireshark-Lab-ICMP/image-20230505144758780.png" alt="image-20230505144758780" style="zoom:50%;" />
<p><img src="Wireshark-Lab-ICMP/image-20230505145146382.png" alt="image-20230505145146382"></p>
<h2 id="Extra-Credit-é¢å¤–é—®é¢˜">Extra Credit é¢å¤–é—®é¢˜</h2>
<p>For one of the programming assignments you created a UDP client ping program. This ping program, unlike the standard ping program, sends UDP probe packets rather than ICMP probe packets. Use the client program to send a UDP packet with an unusual destination port number to some live host. At the same time, use Wireshark to capture any response from the target host. Provide a Wireshark screenshot for the response as well as an analysis of the response.</p>
<p>å¯¹äºä¸€ä¸ªç¼–ç¨‹ä»»åŠ¡ï¼Œæ‚¨å¯èƒ½åˆ›å»ºäº†ä¸€ä¸ª UDP å®¢æˆ·ç«¯ ping ç¨‹åºã€‚ ä¸æ ‡å‡† ping ç¨‹åº ä¸åŒï¼Œæ­¤ ping ç¨‹åºå‘é€ UDP æ¢æµ‹åŒ…è€Œä¸æ˜¯ ICMP æ¢æµ‹åŒ…ã€‚ ä½¿ç”¨å®¢æˆ·ç«¯ç¨‹åºå°†å…·æœ‰ å¼‚å¸¸ç›®æ ‡ç«¯å£å·çš„ UDP æ•°æ®åŒ…å‘é€åˆ°æŸä¸ªæ´»åŠ¨ä¸»æœºã€‚ åŒæ—¶ï¼Œä½¿ç”¨ Wireshark æ•è· ç›®æ ‡ä¸»æœºçš„ä»»ä½•å“åº”ã€‚ æä¾›å“åº”çš„ Wireshark å±å¹•æˆªå›¾ä»¥åŠå“åº”åˆ†æã€‚</p>

    </div>

    
    
    
      
  <div class="popular-posts-header">Related Posts</div>
  <ul class="popular-posts">
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="/2023/04/20/Wireshark-Lab-IP-v7-0/" rel="bookmark">Wireshark Lab: IP v7.0</a></div>
    </li>
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="/2023/05/08/Wireshark-Lab-802-11/" rel="bookmark">Wireshark Lab 802.11</a></div>
    </li>
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="/2023/04/21/Wireshark-Lab-TCP/" rel="bookmark">Wireshark Lab: TCP</a></div>
    </li>
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="/2023/04/20/Wireshark-lab-HTTP/" rel="bookmark">Wireshark lab HTTP</a></div>
    </li>
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="/2023/05/08/Wireshark-Lab-Ethernet-and-ARP/" rel="bookmark">Wireshark Lab: Ethernet and ARP</a></div>
    </li>
  </ul>

        

  <div class="followme">
    <p>Welcome to my other publishing channels</p>

    <div class="social-list">

        <div class="social-item">
          <a target="_blank" class="social-link" href="/atom.xml">
            <span class="icon">
              <i class="fa fa-rss"></i>
            </span>

            <span class="label">RSS</span>
          </a>
        </div>
    </div>
  </div>


      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/computer-network/" rel="tag"># computer network</a>
              <a href="/tags/lab/" rel="tag"># lab</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2023/04/21/Wireshark-Lab-DNS/" rel="prev" title="Wireshark Lab: DNS">
      <i class="fa fa-chevron-left"></i> Wireshark Lab: DNS
    </a></div>
      <div class="post-nav-item">
    <a href="/2023/05/08/Wireshark-Lab-802-11/" rel="next" title="Wireshark Lab 802.11">
      Wireshark Lab 802.11 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#ICMP-and-Ping-ICMP-%E5%8D%8F%E8%AE%AE%E5%92%8C-Ping-%E7%A8%8B%E5%BA%8F"><span class="nav-number">1.</span> <span class="nav-text">ICMP and Ping ICMP åè®®å’Œ Ping ç¨‹åº</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#What-to-Hand-In-%E5%9B%9E%E7%AD%94%E9%97%AE%E9%A2%98"><span class="nav-number">2.</span> <span class="nav-text">What to Hand In: å›ç­”é—®é¢˜</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ICMP-and-Traceroute-ICMP-%E5%8D%8F%E8%AE%AE%E5%92%8C-Traceroute-%E5%91%BD%E4%BB%A4"><span class="nav-number">3.</span> <span class="nav-text">ICMP and Traceroute ICMP åè®®å’Œ Traceroute å‘½ä»¤</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#image-20230505111244920"><span class="nav-number">4.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#What-to-Hand-In-%E5%9B%9E%E7%AD%94%E9%97%AE%E9%A2%98-2"><span class="nav-number">5.</span> <span class="nav-text">What to Hand In: å›ç­”é—®é¢˜</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Extra-Credit-%E9%A2%9D%E5%A4%96%E9%97%AE%E9%A2%98"><span class="nav-number">6.</span> <span class="nav-text">Extra Credit é¢å¤–é—®é¢˜</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="æ¥¼å…°"
      src="/icon/avatar.png">
  <p class="site-author-name" itemprop="name">æ¥¼å…°</p>
  <div class="site-description" itemprop="description">æ¥¼å…°çš„Blog</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">14</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">6</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">13</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/Trevoewu" title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;Trevoewu" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:littletrevorwu@gmail.com" title="E-Mail â†’ mailto:littletrevorwu@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.youtube.com/channel/UCUq2pPd5uGDITzu2GP7CqRA" title="YouTube â†’ https:&#x2F;&#x2F;www.youtube.com&#x2F;channel&#x2F;UCUq2pPd5uGDITzu2GP7CqRA" rel="noopener" target="_blank"><i class="fab fa-youtube fa-fw"></i>YouTube</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">æ¥¼å…°</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
    <span title="Symbols count total">57k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="Reading time total">1:35</span>
</div>
        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/pjax/pjax.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>

  <script>
var pjax = new Pjax({
  selectors: [
    'head title',
    '#page-configurations',
    '.content-wrap',
    '.post-toc-wrap',
    '.languages',
    '#pjax'
  ],
  switches: {
    '.post-toc-wrap': Pjax.switches.innerHTML
  },
  analytics: false,
  cacheBust: false,
  scrollTo : !CONFIG.bookmark.enable
});

window.addEventListener('pjax:success', () => {
  document.querySelectorAll('script[data-pjax], script#page-configurations, #pjax script').forEach(element => {
    var code = element.text || element.textContent || element.innerHTML || '';
    var parent = element.parentNode;
    parent.removeChild(element);
    var script = document.createElement('script');
    if (element.id) {
      script.id = element.id;
    }
    if (element.className) {
      script.className = element.className;
    }
    if (element.type) {
      script.type = element.type;
    }
    if (element.src) {
      script.src = element.src;
      // Force synchronous loading of peripheral JS.
      script.async = false;
    }
    if (element.dataset.pjax !== undefined) {
      script.dataset.pjax = '';
    }
    if (code !== '') {
      script.appendChild(document.createTextNode(code));
    }
    parent.appendChild(script);
  });
  NexT.boot.refresh();
  // Define Motion Sequence & Bootstrap Motion.
  if (CONFIG.motion.enable) {
    NexT.motion.integrator
      .init()
      .add(NexT.motion.middleWares.subMenu)
      .add(NexT.motion.middleWares.postList)
      .bootstrap();
  }
  NexT.utils.updateSidebarPosition();
});
</script>




  















    <div id="pjax">
  

  
<script src="https://unpkg.com/darkmode-js@1.5.7/lib/darkmode-js.min.js"></script>

<script>
var options = {
  bottom: '64px',
  right: 'unset',
  left: '32px',
  time: '0.5s',
  mixColor: 'transparent',
  backgroundColor: 'transparent',
  buttonColorDark: '#100f2c',
  buttonColorLight: '#fff',
  saveInCookies: true,
  label: 'ğŸŒ“',
  autoMatchOsTheme: true
}
const darkmode = new Darkmode(options);
window.darkmode = darkmode;
darkmode.showWidget();
</script>

    </div>
</body>
</html>
